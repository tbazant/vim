<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Light on Vim</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.0" /></head><body><div xml:lang="en" class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="vim"></a>Light on Vim</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Tomáš</span> <span class="surname">Bažant</span></h3></div></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="chapter"><a href="#cha.vim.intro">1. Making Vim Comfortable</a></span></dt><dd><dl><dt><span class="sect1"><a href="#id1337">Useful Vim Settings</a></span></dt></dl></dd><dt><span class="chapter"><a href="#cha.vim.fugitive">2. Fugitive: Wrapping around Git</a></span></dt><dt><span class="chapter"><a href="#cha.vim.xml">3. Editing XML/DocBook Files</a></span></dt><dd><dl><dt><span class="sect1"><a href="#id1339">Moving Around the Tags</a></span></dt><dd><dl><dt><span class="sect2"><a href="#id1338">Text Objects</a></span></dt></dl></dd><dt><span class="sect1"><a href="#id1345">xml.vim Plugin</a></span></dt><dd><dl><dt><span class="sect2"><a href="#id1340">Installation</a></span></dt><dt><span class="sect2"><a href="#id1344">Added Value</a></span></dt></dl></dd><dt><span class="sect1"><a href="#id1346">DTD Support</a></span></dt><dt><span class="sect1"><a href="#id1347">Auto-completing XML Entities</a></span></dt><dt><span class="sect1"><a href="#id1351">On-the-fly Spell-Checking</a></span></dt><dd><dl><dt><span class="sect2"><a href="#id1348">Highlight Content, Not the Markup</a></span></dt><dt><span class="sect2"><a href="#id1349">Highlighting Style and Colors</a></span></dt><dt><span class="sect2"><a href="#id1350">Import Foreign Vocabulary</a></span></dt></dl></dd><dt><span class="sect1"><a href="#id1352">DocBook Snippet Macros</a></span></dt></dl></dd></dl></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="cha.vim.intro"></a>Chapter 1. Making Vim Comfortable</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="sect1"><a href="#id1337">Useful Vim Settings</a></span></dt></dl></div><p></p><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1337"></a>Useful Vim Settings</h2></div></div></div><p>
   Vim stores its settings in <code class="filename">~/.vimrc</code>. Here are the ones that I generally
   find useful. Note that lines starting with <code class="literal">"</code> are
   comments.
  </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>
    After you make changes to <code class="filename">~/.vimrc</code>, you can apply them without restarting
    the Vim session with <span class="command"><strong>:source ~/.vimrc</strong></span>
   </p></div><pre class="screen">" break compatibility with the ancient vi
set nocompatible
" set autorecognition of file types
filetype on
filetype plugin on
filetype indent on
" syntax highlighting, of course
syntax on
" smart context sensitive indenting
set smartindent
" show the info status bar at the bottom
set ruler
" show line numbers
set number</pre><p>
   If you use tabs to edit several files at once, it is handy to map the
   following shortcuts to switch between them.
  </p><pre class="screen">" switch the tabs with SHIFT + &lt; or &gt;
map &lt;S-Right&gt; :tabnext&lt;CR&gt;
map &lt;S-Left&gt; :tabprevious&lt;CR&gt;</pre></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="cha.vim.fugitive"></a>Chapter 2. Fugitive: Wrapping around Git</h1></div></div></div><p></p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="cha.vim.xml"></a>Chapter 3. Editing XML/DocBook Files</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="sect1"><a href="#id1339">Moving Around the Tags</a></span></dt><dd><dl><dt><span class="sect2"><a href="#id1338">Text Objects</a></span></dt></dl></dd><dt><span class="sect1"><a href="#id1345">xml.vim Plugin</a></span></dt><dd><dl><dt><span class="sect2"><a href="#id1340">Installation</a></span></dt><dt><span class="sect2"><a href="#id1344">Added Value</a></span></dt></dl></dd><dt><span class="sect1"><a href="#id1346">DTD Support</a></span></dt><dt><span class="sect1"><a href="#id1347">Auto-completing XML Entities</a></span></dt><dt><span class="sect1"><a href="#id1351">On-the-fly Spell-Checking</a></span></dt><dd><dl><dt><span class="sect2"><a href="#id1348">Highlight Content, Not the Markup</a></span></dt><dt><span class="sect2"><a href="#id1349">Highlighting Style and Colors</a></span></dt><dt><span class="sect2"><a href="#id1350">Import Foreign Vocabulary</a></span></dt></dl></dd><dt><span class="sect1"><a href="#id1352">DocBook Snippet Macros</a></span></dt></dl></div><p>
  First, turn on default capabilities for XML and DocBook file types, such
  as indenting and tag completion, by inserting the following line into your
  <code class="filename">~/.vimrc</code>:
 </p><pre class="screen">autocmd FileType xml,docbk set omnifunc=xmlcomplete#CompleteTags</pre><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1339"></a>Moving Around the Tags</h2></div></div></div><p>
   When editing an XML document, it is often useful to move and manipulate
   the text in the context of the XML tags. For example to erase the text
   the cursor is currently at, including the surrounding tags. Or to copy
   the inner text from the tag under cursor.
  </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id1338"></a>Text Objects</h3></div></div></div><p>
    Vim knows about <span class="emphasis"><em>text objects</em></span>. A text object is a
    part of text, such as word, sentence, block (block of text between
    brackets), or paragraph. You define them by pressing
    <code class="literal">w</code>, <code class="literal">s</code>, <code class="literal">b</code>, or
    <code class="literal">p</code>. Vim knows about one text object related
    specifically to markup languages - a tag. A tag corresponds to a pair
    HTML/XML element.
   </p><p>
    Vim distinguishes between the inner part of a tag, and the whole tag
    including the surrounding markup. Vim can also select a text enclosed
    in quotes, or jump the cursor between left or right sharp brackets. Get
    inspired by the following few useful examples:
   </p><div class="informaltable"><table class="informaltable" border="1"><colgroup><col width="1in" /><col width="1.5in" /><col /></colgroup><thead><tr><th>command</th><th>how to remember</th><th>description</th></tr></thead><tbody><tr><td><span class="command"><strong>it</strong></span>
       </td><td>inner tag</td><td>text placed inside XML element</td></tr><tr><td><span class="command"><strong>at</strong></span>
       </td><td>all tag</td><td>same as <span class="command"><strong>it</strong></span> + the pair of surrounding tags</td></tr><tr><td><span class="command"><strong>2it</strong></span>
       </td><td>2 x inner tag</td><td>select the inner text of the parent element (including the current tag)</td></tr><tr><td><span class="command"><strong>2at</strong></span>
       </td><td>2 x all tag</td><td>select the whole parent element (including the current and the parent tags)</td></tr><tr><td><span class="command"><strong>f&gt;</strong></span>
       </td><td>find &gt;</td><td>selects the text to the end of the closing tag, including '&gt;'</td></tr><tr><td><span class="command"><strong>t&lt;</strong></span>
       </td><td>find to &gt;</td><td>selects the text to the end of the closing tag, without '&lt;'</td></tr><tr><td><span class="command"><strong>F&lt;</strong></span>
       </td><td>find &lt; backward</td><td>selects the text from the beginning of the tag, including '&lt;'</td></tr><tr><td><span class="command"><strong>T&lt;</strong></span>
       </td><td>find to &lt; backward</td><td>selects the text from the beginning of the tag, without '&lt;'</td></tr><tr><td><span class="command"><strong>a"</strong></span>
       </td><td>a string</td><td>selects the text including the surrounding quotes, such as XML attribute</td></tr><tr><td><span class="command"><strong>i"</strong></span>
       </td><td>a string</td><td>selects the text without the surrounding quotes, such as text of an XML attribute</td></tr></tbody></table></div></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1345"></a>xml.vim Plugin</h2></div></div></div><p>
   The <code class="literal">xml.vim</code> plugin adds extended functionality to
   editing XML files, such as auto-closing tags, matching the beginning or
   end of a tag, or folding tags or comments.
  </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id1340"></a>Installation</h3></div></div></div><p>
    To install the <code class="literal">xml.vim</code> plugin, follow these steps:
   </p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>
      Download latest version of the <code class="literal">xml.vim</code> plugin from
      <a class="link" href="https://github.com/vim-scripts/xml.vim" target="_top">https://github.com/vim-scripts/xml.vim</a>.
     </p></li><li class="step"><p>
      Unzip the file to the <code class="filename">~/.vim/ftplugin/</code> directory.
     </p></li><li class="step"><p>
      Because Vim uses other default XML features we want to use, edit
      <code class="filename">~/.vim/ftplugin/xml.vim</code> and comment
      (<code class="literal">"</code>) the line
     </p><pre class="screen">b:did_ftplugin = 1</pre></li><li class="step"><p>
      Restart Vim. Now you can access the plugin's help by entering
     </p><pre class="screen">:help xml-plugin</pre></li></ol></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id1344"></a>Added Value</h3></div></div></div><p>
    The following tables show goodies of <code class="literal">xml.vim</code>. Notice
    that '|' stands for the current cursor position.
   </p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id1341"></a>Enhancements for the Insert Mode</h4></div></div></div><div class="informaltable"><table class="informaltable" border="1"><colgroup><col width=".8in" /><col width=".8in" /><col width="1.2in" /><col /></colgroup><thead><tr><th>mapping</th><th>when</th><th>result</th><th>description</th></tr></thead><tbody><tr><td>
<pre class="screen">&gt;</pre>
        </td><td>
<pre class="screen">&lt;para|</pre>
        </td><td>
<pre class="screen">&lt;para&gt;|&lt;/para&gt;</pre>
        </td><td>closes the current tag and puts the cursor between the
         opening and ending tag</td></tr><tr><td>
<pre class="screen">&gt;&gt;</pre>
        </td><td>
<pre class="screen">&lt;para|</pre>
        </td><td>
<pre class="screen">&lt;para&gt;
    |
&lt;/para&gt;</pre>
        </td><td>closes the current tag, inserts newline between the tags,
         and puts the cursor on the blank line</td></tr><tr><td>
<pre class="screen">;;</pre>
        </td><td>
<pre class="screen">para|</pre>
        </td><td>
<pre class="screen">&lt;para&gt;|&lt;/para&gt;</pre>
        </td><td>makes a pair of tags out of the preceding word,
         and puts the cursor between them</td></tr><tr><td>
<pre class="screen">;;</pre>
        </td><td>
<pre class="screen">
para|
</pre>
        </td><td>
<pre class="screen">&lt;para&gt;
    |
&lt;/para&gt;</pre>
        </td><td>when the word is on its own line, makes a pair of tags out
         of the preceding word, inserts newline between the tags,
         and puts the cursor on the blank line</td></tr></tbody></table></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id1342"></a>'[' and ']' Mappings for the Command Mode</h4></div></div></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>
      Some of the following mappings use &lt;localleader&gt; key before the
      mapping itself. It is backslash '<code class="literal">\</code>' by default. You
      can, however, change it to any other key in your <code class="filename">~/.vimrc</code> file. For
      example to change it to a comma '<code class="literal">,</code>', insert the
      following line
     </p><pre class="screen">let maplocalleader = ","</pre><p>
      and run <span class="command"><strong>:source ~/.vimrc</strong></span> to make it effective.
     </p><p>
      From now on, I assume you have re-mapped the &lt;localleader&gt; to a
      comma character <code class="literal">,</code> :-)
     </p></div><div class="informaltable"><table class="informaltable" border="1"><colgroup><col width=".5in" class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /></colgroup><thead><tr><th>mapping</th><th>when</th><th>result</th><th>description</th></tr></thead><tbody><tr><td>
<pre class="screen">,]</pre>
        </td><td>
<pre class="screen">&lt;!-- some commented | text --&gt;</pre>
        </td><td>the same text no longer commented|</td><td>removes &lt;!-- --&gt; delimiters and puts the cursor at the end of the text</td></tr><tr><td>
<pre class="screen">,}</pre>
        </td><td>
<pre class="screen">&lt;!-- some commented | text --&gt;</pre>
        </td><td>|</td><td>removes the whole &lt;!-- --&gt; section</td></tr><tr><td>
<pre class="screen">[[</pre>
        </td><td colspan="3" align="center">go to the previous opening tag</td></tr><tr><td>
<pre class="screen">]]</pre>
        </td><td colspan="3" align="center">go to the next opening tag</td></tr><tr><td>
<pre class="screen">[]</pre>
        </td><td colspan="3" align="center">go to the previous closing tag</td></tr><tr><td>
<pre class="screen">][</pre>
        </td><td colspan="3" align="center">go to the next closing tag</td></tr><tr><td>
<pre class="screen">["</pre>
        </td><td colspan="3" align="center">go to the next comment</td></tr><tr><td>
<pre class="screen">]"</pre>
        </td><td colspan="3" align="center">go to the previous comment</td></tr><tr><td>
<pre class="screen">,5</pre>
         <p>
          or
         </p>
<pre class="screen">,%</pre>
        </td><td colspan="3" align="center">jump to the beginning of the matching opening/closing tag</td></tr></tbody></table></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id1343"></a>Advanced Editing Techniques</h4></div></div></div><div class="informaltable"><table class="informaltable" border="1"><colgroup><col width=".5in" class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /></colgroup><thead><tr><th>mapping</th><th>when</th><th>result</th><th>description</th></tr></thead><tbody><tr><td>
<pre class="screen">,c</pre>
        </td><td colspan="3" align="center">rename a tag</td></tr><tr><td>
<pre class="screen">,C</pre>
        </td><td colspan="3" align="center">rename a tag and ask for its attributes</td></tr><tr><td>
<pre class="screen">,d</pre>
        </td><td>&lt;pa|ra&gt;outer &lt;emphasis&gt;inner&lt;/emphasis&gt; outer&lt;para&gt;</td><td>outer &lt;emphasis&gt;inner&lt;/emphasis&gt; outer</td><td>removes the surrounding tag</td></tr><tr><td>
<pre class="screen">,D</pre>
        </td><td>
<pre class="screen">&lt;para&gt;outer
&lt;em|phasis&gt;inner&lt;/emphasis&gt;
outer&lt;para&gt;</pre>
        </td><td>
<pre class="screen">&lt;para&gt;
outer outer
&lt;para&gt;</pre>
        </td><td>removes the surrounding tag and its content</td></tr><tr><td>
<pre class="screen">,e</pre>
        </td><td>
<pre class="screen">&lt;para&gt;some text|</pre>
        </td><td>
<pre class="screen">&lt;para&gt;some text&lt;para&gt;</pre>
        </td><td>provides a closing tag for the preceding unclosed opening tag</td></tr><tr><td>
<pre class="screen">,s</pre>
        </td><td>
<pre class="screen">|some text&lt;/para&gt;</pre>
        </td><td>
<pre class="screen">&lt;para&gt;some text&lt;para&gt;</pre>
        </td><td>provides an opening tag for the following unopened closing tag</td></tr><tr><td>
<pre class="screen">,f</pre>
        </td><td>
<pre class="screen">&lt;pa|ra&gt;
 line1
 line2
 line3
 &lt;/para&gt;</pre>
        </td><td>
<pre class="screen">+-- 5 lines: &lt;para&gt;---------- </pre>
        </td><td>folds the tag under the cursor</td></tr><tr><td>
<pre class="screen">,F</pre>
        </td><td colspan="3" align="center">folds all tags named as the one under the cursor; if there 
        is no tag under the cursor, you will be asked for the tag name</td></tr><tr><td>
<pre class="screen">,j</pre>
        </td><td>
<pre class="screen">&lt;para&gt;para1&lt;/p|ara&gt;
&lt;para&gt;para2&lt;/para&gt;</pre>
        </td><td>
<pre class="screen">&lt;para&gt;para1|
para2&lt;/para&gt;</pre>
        </td><td>joins two adjacent elements of the same type, joining and removing the tag under the cursor</td></tr><tr><td>
<pre class="screen">,l</pre>
        </td><td>
<pre class="screen">text</pre>
        </td><td>
<pre class="screen">&lt;listitem&gt;
 &lt;para&gt;text&lt;/para&gt;
&lt;listitem&gt;</pre>
        </td><td>surrounds a visually defined (with <code class="literal">v</code>) block with &lt;listitem&gt;&lt;para&gt;</td></tr><tr><td>
<pre class="screen">,o</pre>
        </td><td>
<pre class="screen">&lt;pa|ra&gt;text&lt;/para&gt;</pre>
        </td><td>
<pre class="screen">&lt;para&gt;
&lt;entry&gt;text&lt;/entry&gt;
&lt;/para&gt;</pre>
        </td><td>surround the inner text of the current tag with a specified one which you are asked for,
         &lt;entry/&gt; in the example</td></tr><tr><td>
<pre class="screen">,O</pre>
        </td><td>
<pre class="screen">&lt;pa|ra&gt;text&lt;/para&gt;</pre>
        </td><td>
<pre class="screen">&lt;entry&gt;
 &lt;para&gt;text&lt;/para&gt;
&lt;/entry&gt;</pre>
        </td><td>surrounds the tag under the cursor with a specified one which you are asked for,
         &lt;entry/&gt; in the example</td></tr><tr><td>
<pre class="screen">,&gt;</pre>
        </td><td colspan="3" align="center">indents the current element and all its content</td></tr><tr><td>
<pre class="screen">,&lt;</pre>
        </td><td colspan="3" align="center">unindents the current element and all its content</td></tr><tr><td>
<pre class="screen">,&lt;</pre>
        </td><td>some text|</td><td>&lt;!-- some text --&gt;</td><td>comments out visually selected text block</td></tr><tr><td>
<pre class="screen">,v</pre>
        </td><td>
<pre class="screen">some text</pre>
        </td><td>
<pre class="screen">&lt;para&gt;
 some text
&lt;/para&gt;</pre>
        </td><td>surrounds the visually selected text block  with a tag which you are asked for,
         &lt;para/&gt; in the example</td></tr><tr><td>
<pre class="screen">,5</pre>
         <p>
          or
         </p>
<pre class="screen">,%</pre>
        </td><td colspan="3" align="center">extends the visual selection up to the matching tag</td></tr></tbody></table></div></div></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1346"></a>DTD Support</h2></div></div></div><p>
   Vim can help you autocomplete tags based on the supplied DTD. First you
   have to obtain the DTD definition file for the XML subset (such as
   DocBook) you want to use, the convert it to Vim compatible format, and
   the let Vim know which file to load.
  </p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>
     Download the
     <a class="link" href="http://search.cpan.org/CPAN/authors/id/E/EH/EHOOD/perlSGML.1997Sep18.tar.gz" target="_top">perlSGML</a>
     package, <span class="command"><strong>unzip</strong></span> it, <span class="command"><strong>cd</strong></span> to the
     unpacked directory (<code class="filename">perlSGML.1997Sep18/</code>, run
     <span class="command"><strong>perl install.me</strong></span>, and answer to the questions.
    </p></li><li class="step"><p>
     Download the DTD file you want to use with Vim. For example, DocBook5
     DTD can be found at
     <a class="link" href="http://docbook.org/xml/5.0/dtd/docbook.dtd" target="_top">http://docbook.org/xml/5.0/dtd/docbook.dtd</a>.
    </p></li><li class="step"><p>
     Download
     <a class="link" href="/http://www.vim.org/scripts/download_script.php?src_id=5612" target="_top">dtd2vim</a>
     and run <span class="command"><strong>perl dtd2vim docbook.dtd docbook5</strong></span>. The
     script creates the <code class="filename">docbook5.vim</code> file.
    </p></li><li class="step"><p>
     Move <code class="filename">docbook5.vim</code> to
     <code class="filename">~/.vim/autoload/xml/docbook5.vim</code>.
    </p></li><li class="step"><p>
     Restart Vim and open some DocBook file. To tell Vim to use the
     previously converted <code class="filename">docbook5.vim</code> file, set
     <span class="command"><strong>:XMLns docbook5</strong></span> from within the Vim command mode.
    </p></li><li class="step"><p>
     To have Vim autocomplete the tag for you, start typing it with the
     opening sharp bracket <code class="literal">&lt;</code> - you can optionally add
     a few initial characters to make the suggestion list smaller - and then
     press the default omni-completion shortcut
     <span class="guimenu">CTRL</span>+<span class="guimenu">x</span>+<span class="guimenu">CTRL</span>+<span class="guimenu">o</span>. Vim offers
     you a list of possible choices. Select one and press
     <code class="literal">&gt;</code> to finish the tag.
    </p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>
      Because <span class="guimenu">CTRL</span>+<span class="guimenu">x</span>+<span class="guimenu">CTRL</span>+<span class="guimenu">o</span> is awkward, I
      suggest you to remap it in your <code class="filename">~/.vimrc</code> to for example
      <span class="guimenu">CTRL</span>+<span class="guimenu">SPACE</span>
      adding the following lines for XML and DocBook file types:
     </p><pre class="screen">autocmd FileType xml,docbk imap &lt;C-@&gt; &lt;C-X&gt;&lt;C-O&gt;</pre><p>
      Then restart Vim and enjoy your wild editing experience :-)
     </p></div></li></ol></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1347"></a>Auto-completing XML Entities</h2></div></div></div><p>
   If your XML entities are included in the file you are just editing, Vim
   can auto-complete their names for you - just write the
   initial<code class="literal">&amp;</code> and press the omni-completion shortcut
   (<span class="guimenu">CTRL</span>+<span class="guimenu">SPACE</span>
   if you followed me recently).
  </p><p>
   If XML entities are included from other file, Vim cannot see it. You
   have to convert the entity file into <code class="literal">.vim</code> format and
   include it into the <code class="literal">vimxmlentities</code> option in the
   current Vim DTD file, such as
   <code class="filename">~/.vim/autoload/xml/docbook5.vim</code>.
  </p><p>
   To ease this process, I included the
   <span class="command"><strong>update_docbook_entities.pl</strong></span> script. It takes your
   custom entity file as a first argument, and the DTD .vim file as a second
   argument. It extracts found entities, converts them into Vim
   understandable format, and adds them into the custom DTD file, such as
   <code class="filename">docbook5.vim</code>.
  </p><p>
   To add a shortcut to this script to Vim, add (and customized) this line
   to your <code class="filename">~/.vimrc</code> file:
  </p><pre class="screen">nnoremap &lt;silent&gt; _e :!update_docbook_entities.pl xml/entity-decl.ent ~/.vim/autoload/xml/docbook5.vim&lt;CR&gt;&lt;CR&gt;</pre><p>
   This line ensures—assuming that you moved
   <span class="command"><strong>update_docbook_entities.pl</strong></span> to $PATH—that after
   pressing _e, the entities found in the
   <code class="filename">xml/entity-decl.ent</code> file will be added to
   <code class="filename">~/.vim/autoload/xml/docbook5.vim</code>.
  </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1351"></a>On-the-fly Spell-Checking</h2></div></div></div><p>
   Vim has a built-in spell checker since version 7. To activate it on the
   current file, enter
  </p><pre class="screen">:set spell spelllang=en</pre><p>
   on the Vim command line, or put it in your <code class="filename">~/.vimrc</code> file:
  </p><pre class="screen">autocmd FileType xml,docbk set spell spelllang=en</pre><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id1348"></a>Highlight Content, Not the Markup</h3></div></div></div><p>
    The problem is that it highlights misspelled words included in XML tags
    instead of their content. To make Vim highlight spelling errors in the
    text, enter
   </p><pre class="screen">:syntax spell toplevel</pre><p>
    To make <span class="command"><strong>:syntax spell toplevel</strong></span> start automatically at
    Vim start, create the <code class="filename">~/.vim/after/syntax/xml.vim</code>
    file and add the following line:
   </p><pre class="screen">syntax spell toplevel</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id1349"></a>Highlighting Style and Colors</h3></div></div></div><p>
    By default, Vim uses the whole cursor block to mark misspelled words.
    To make it underline them only, and color them with red, enter
   </p><pre class="screen">:highlight SpellBad cterm=underline ctermfg=red ctermbg=none</pre></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id1350"></a>Import Foreign Vocabulary</h3></div></div></div><p>
    Vim uses its own language related spell checker dictionary. This
    section helps you use your own custom dictionary (originally an Aspell
    format) and turn it into Vim spelling wordlist.
   </p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>
      Get a custom list of words, each word on a separate line. For Aspell
      dictionary <code class="filename">suse_aspell.rws</code> residing in the
      <code class="filename">/usr/share/daps/lib</code> directory, use the following
      command:
     </p><pre class="screen">aspell dump master -l suse_aspell.rws --dict-dir=/usr/share/daps/lib &gt; ~/.vim/spell/suse.utf-8.add</pre><p>
      The wordlist will be saved to
      <code class="filename">.vim/spell/suse.utf-8.add</code> in your home directory.
     </p></li><li class="step"><p>
      Convert the new wordlist into the Vim compatible format.
     </p><pre class="screen">:mkspell! ~/.vim/spell/suse.utf-8.add</pre></li><li class="step"><p>
      Specify the new dictionary for use with Vim.
     </p><pre class="screen">:set spellfile=~/.vim/spell/suse.utf-8.add</pre></li></ol></div></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1352"></a>DocBook Snippet Macros</h2></div></div></div><p>
   In DocBook, many markup structures repeat very often over the text. To
   have shortcuts for inserting frequently inserted snippets is very
   convenient and saves a lot of writing time.
  </p><p>
   That is why I introduced a separate configuration file
   <code class="filename">docbk_tpl.vim</code> that contains the macros for frequent
   DocBook snippets. Just place it in the <code class="filename">/templates</code>
   subdirectory and insert the following line in <code class="filename">~/.vimrc</code>:
  </p><pre class="screen">" load docbook templates
autocmd FileType xml,docbk source ~/.vim/templates/docbk_tpl.vim</pre></div></div></div></body></html>