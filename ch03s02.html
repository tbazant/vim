<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>xml.vim Plugin</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.0" /><link rel="home" href="index.html" title="Light on Vim" /><link rel="up" href="cha.vim.xml.html" title="Chapter 3. Editing XML/DocBook Files" /><link rel="prev" href="cha.vim.xml.html" title="Chapter 3. Editing XML/DocBook Files" /><link rel="next" href="ch03s03.html" title="DTD Support" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">xml.vim Plugin</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="cha.vim.xml.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Editing XML/DocBook Files</th><td width="20%" align="right"> <a accesskey="n" href="ch03s03.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1349"></a>xml.vim Plugin</h2></div></div></div><p>
   The <code class="literal">xml.vim</code> plugin adds extended functionality to
   editing XML files, such as auto-closing tags, matching the beginning or
   end of a tag, or folding tags or comments.
  </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id1340"></a>Installation</h3></div></div></div><p>
    To install the <code class="literal">xml.vim</code> plugin, follow these steps:
   </p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>
      Download latest version of the <code class="literal">xml.vim</code> plugin from
      <a class="link" href="https://github.com/vim-scripts/xml.vim" target="_top">https://github.com/vim-scripts/xml.vim</a>.
     </p></li><li class="step"><p>
      Unzip the file to the <code class="filename">~/.vim/ftplugin/</code> directory.
     </p></li><li class="step"><p>
      Because Vim uses other default XML features we want to use, edit
      <code class="filename">~/.vim/ftplugin/xml.vim</code> and comment
      (<code class="literal">"</code>) the line
     </p><pre class="screen">b:did_ftplugin = 1</pre></li><li class="step"><p>
      Restart Vim. Now you can access the plugin's help by entering
     </p><pre class="screen">:help xml-plugin</pre></li></ol></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id1344"></a>Added Value</h3></div></div></div><p>
    The following tables show goodies of <code class="literal">xml.vim</code>. Notice
    that '|' stands for the current cursor position.
   </p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id1341"></a>Enhancements for the Insert Mode</h4></div></div></div><div class="informaltable"><table class="informaltable" border="1"><colgroup><col width=".8in" /><col width=".8in" /><col width="1.2in" /><col /></colgroup><thead><tr><th>mapping</th><th>when</th><th>result</th><th>description</th></tr></thead><tbody><tr><td>
<pre class="screen">&gt;</pre>
        </td><td>
<pre class="screen">&lt;para|</pre>
        </td><td>
<pre class="screen">&lt;para&gt;|&lt;/para&gt;</pre>
        </td><td>closes the current tag and puts the cursor between the
         opening and ending tag</td></tr><tr><td>
<pre class="screen">&gt;&gt;</pre>
        </td><td>
<pre class="screen">&lt;para|</pre>
        </td><td>
<pre class="screen">&lt;para&gt;
    |
&lt;/para&gt;</pre>
        </td><td>closes the current tag, inserts newline between the tags,
         and puts the cursor on the blank line</td></tr><tr><td>
<pre class="screen">;;</pre>
        </td><td>
<pre class="screen">para|</pre>
        </td><td>
<pre class="screen">&lt;para&gt;|&lt;/para&gt;</pre>
        </td><td>makes a pair of tags out of the preceding word,
         and puts the cursor between them</td></tr><tr><td>
<pre class="screen">;;</pre>
        </td><td>
<pre class="screen">
para|
</pre>
        </td><td>
<pre class="screen">&lt;para&gt;
    |
&lt;/para&gt;</pre>
        </td><td>when the word is on its own line, makes a pair of tags out
         of the preceding word, inserts newline between the tags,
         and puts the cursor on the blank line</td></tr></tbody></table></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id1342"></a>'[' and ']' Mappings for the Command Mode</h4></div></div></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Tip</h3><p>
      Some of the following mappings use &lt;localleader&gt; key before the
      mapping itself. It is backslash '<code class="literal">\</code>' by default. You
      can, however, change it to any other key in your <code class="filename">~/.vimrc</code> file. For
      example to change it to a comma '<code class="literal">,</code>', insert the
      following line
     </p><pre class="screen">let maplocalleader = ","</pre><p>
      and run <span class="command"><strong>:source ~/.vimrc</strong></span> to make it effective.
     </p><p>
      From now on, I assume you have re-mapped the &lt;localleader&gt; to a
      comma character <code class="literal">,</code> :-)
     </p></div><div class="informaltable"><table class="informaltable" border="1"><colgroup><col width=".5in" class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /></colgroup><thead><tr><th>mapping</th><th>when</th><th>result</th><th>description</th></tr></thead><tbody><tr><td>
<pre class="screen">,]</pre>
        </td><td>
<pre class="screen">&lt;!-- some commented | text --&gt;</pre>
        </td><td>the same text no longer commented|</td><td>removes &lt;!-- --&gt; delimiters and puts the cursor at the end of the text</td></tr><tr><td>
<pre class="screen">,}</pre>
        </td><td>
<pre class="screen">&lt;!-- some commented | text --&gt;</pre>
        </td><td>|</td><td>removes the whole &lt;!-- --&gt; section</td></tr><tr><td>
<pre class="screen">[[</pre>
        </td><td colspan="3" align="center">go to the previous opening tag</td></tr><tr><td>
<pre class="screen">]]</pre>
        </td><td colspan="3" align="center">go to the next opening tag</td></tr><tr><td>
<pre class="screen">[]</pre>
        </td><td colspan="3" align="center">go to the previous closing tag</td></tr><tr><td>
<pre class="screen">][</pre>
        </td><td colspan="3" align="center">go to the next closing tag</td></tr><tr><td>
<pre class="screen">["</pre>
        </td><td colspan="3" align="center">go to the next comment</td></tr><tr><td>
<pre class="screen">]"</pre>
        </td><td colspan="3" align="center">go to the previous comment</td></tr><tr><td>
<pre class="screen">,5</pre>
         <p>
          or
         </p>
<pre class="screen">,%</pre>
        </td><td colspan="3" align="center">jump to the beginning of the matching opening/closing tag</td></tr></tbody></table></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id1343"></a>Advanced Editing Techniques</h4></div></div></div><div class="informaltable"><table class="informaltable" border="1"><colgroup><col width=".5in" class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /></colgroup><thead><tr><th>mapping</th><th>when</th><th>result</th><th>description</th></tr></thead><tbody><tr><td>
<pre class="screen">,c</pre>
        </td><td colspan="3" align="center">rename a tag</td></tr><tr><td>
<pre class="screen">,C</pre>
        </td><td colspan="3" align="center">rename a tag and ask for its attributes</td></tr><tr><td>
<pre class="screen">,d</pre>
        </td><td>&lt;pa|ra&gt;outer &lt;emphasis&gt;inner&lt;/emphasis&gt; outer&lt;para&gt;</td><td>outer &lt;emphasis&gt;inner&lt;/emphasis&gt; outer</td><td>removes the surrounding tag</td></tr><tr><td>
<pre class="screen">,D</pre>
        </td><td>
<pre class="screen">&lt;para&gt;outer
&lt;em|phasis&gt;inner&lt;/emphasis&gt;
outer&lt;para&gt;</pre>
        </td><td>
<pre class="screen">&lt;para&gt;
outer outer
&lt;para&gt;</pre>
        </td><td>removes the surrounding tag and its content</td></tr><tr><td>
<pre class="screen">,e</pre>
        </td><td>
<pre class="screen">&lt;para&gt;some text|</pre>
        </td><td>
<pre class="screen">&lt;para&gt;some text&lt;para&gt;</pre>
        </td><td>provides a closing tag for the preceding unclosed opening tag</td></tr><tr><td>
<pre class="screen">,s</pre>
        </td><td>
<pre class="screen">|some text&lt;/para&gt;</pre>
        </td><td>
<pre class="screen">&lt;para&gt;some text&lt;para&gt;</pre>
        </td><td>provides an opening tag for the following unopened closing tag</td></tr><tr><td>
<pre class="screen">,f</pre>
        </td><td>
<pre class="screen">&lt;pa|ra&gt;
 line1
 line2
 line3
 &lt;/para&gt;</pre>
        </td><td>
<pre class="screen">+-- 5 lines: &lt;para&gt;---------- </pre>
        </td><td>folds the tag under the cursor</td></tr><tr><td>
<pre class="screen">,F</pre>
        </td><td colspan="3" align="center">folds all tags named as the one under the cursor; if there 
        is no tag under the cursor, you will be asked for the tag name</td></tr><tr><td>
<pre class="screen">,j</pre>
        </td><td>
<pre class="screen">&lt;para&gt;para1&lt;/p|ara&gt;
&lt;para&gt;para2&lt;/para&gt;</pre>
        </td><td>
<pre class="screen">&lt;para&gt;para1|
para2&lt;/para&gt;</pre>
        </td><td>joins two adjacent elements of the same type, joining and removing the tag under the cursor</td></tr><tr><td>
<pre class="screen">,l</pre>
        </td><td>
<pre class="screen">text</pre>
        </td><td>
<pre class="screen">&lt;listitem&gt;
 &lt;para&gt;text&lt;/para&gt;
&lt;listitem&gt;</pre>
        </td><td>surrounds a visually defined (with <code class="literal">v</code>) block with &lt;listitem&gt;&lt;para&gt;</td></tr><tr><td>
<pre class="screen">,o</pre>
        </td><td>
<pre class="screen">&lt;pa|ra&gt;text&lt;/para&gt;</pre>
        </td><td>
<pre class="screen">&lt;para&gt;
&lt;entry&gt;text&lt;/entry&gt;
&lt;/para&gt;</pre>
        </td><td>surround the inner text of the current tag with a specified one which you are asked for,
         &lt;entry/&gt; in the example</td></tr><tr><td>
<pre class="screen">,O</pre>
        </td><td>
<pre class="screen">&lt;pa|ra&gt;text&lt;/para&gt;</pre>
        </td><td>
<pre class="screen">&lt;entry&gt;
 &lt;para&gt;text&lt;/para&gt;
&lt;/entry&gt;</pre>
        </td><td>surrounds the tag under the cursor with a specified one which you are asked for,
         &lt;entry/&gt; in the example</td></tr><tr><td>
<pre class="screen">,&gt;</pre>
        </td><td colspan="3" align="center">indents the current element and all its content</td></tr><tr><td>
<pre class="screen">,&lt;</pre>
        </td><td colspan="3" align="center">unindents the current element and all its content</td></tr><tr><td>
<pre class="screen">,&lt;</pre>
        </td><td>some text|</td><td>&lt;!-- some text --&gt;</td><td>comments out visually selected text block</td></tr><tr><td>
<pre class="screen">,v</pre>
        </td><td>
<pre class="screen">some text</pre>
        </td><td>
<pre class="screen">&lt;para&gt;
 some text
&lt;/para&gt;</pre>
        </td><td>surrounds the visually selected text block  with a tag which you are asked for,
         &lt;para/&gt; in the example</td></tr><tr><td>
<pre class="screen">,5</pre>
         <p>
          or
         </p>
<pre class="screen">,%</pre>
        </td><td colspan="3" align="center">extends the visual selection up to the matching tag</td></tr></tbody></table></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="cha.vim.xml.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="cha.vim.xml.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 3. Editing XML/DocBook Files </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> DTD Support</td></tr></table></div></body></html>